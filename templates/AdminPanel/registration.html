{% extends 'head.html' %}
{% block title %}
Registration
{% endblock title %}
<!-- Bootstrap v5.1.3 CDNs -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

<!-- Google font family -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

<!-- Font Awesome kit -->
<script src="https://kit.fontawesome.com/f8cd4d7fce.js" crossorigin="anonymous"></script>


{% block content %}

<style>
    .required:after {
        content: " *";
        color: red;
    }
</style>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a class="text-black text-decoration-none" href="/Admin/dashboard">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Registration</li>
    </ol>
</nav>
<h1 class="h2">Summary</h1>

<div class="row">
    <div class="col-12 col-xl-12 mb-4 mb-lg-0">
        <div class="card">
            <h5 class="card-header">Latest Participant registration</h5>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Name</th>
                                <th scope="col">Email ID</th>
                                <th scope="col">Phone No</th>
                                <th scope="col">Interest</th>
                                <th scope="col">Student Address</th>
                                <th scope="col">Student Grade</th>
                                <th scope="col">Parent Name</th>
                                <th scope="col">Parent Mobile</th>
                                <th scope="col">Parent Email ID</th>
                                <th scope="col">Parent Address</th>                               
                            </tr>
                        </thead>
                        {% for item in query_results %}
                        <tbody>
                            <tr>
                                <td>{{ item.date|date:"d-M-Y" }}</td>
                                <th scope="row">{{ item.name }}</th>
                                <td>{{ item.email }}</td>
                                <td>{{ item.phone }}</td>
                                <td>{{ item.interest }}</td>
                                <td>{{ item.st_addr }}</td>
                                <td>{{ item.st_grade }}</td>
                                <td>{{ item.st_Pname }}</td>
                                <td>{{ item.st_Pnum }}</td>
                                <td>{{ item.st_Pemail }}</td>
                                <td>{{ item.st_Paddr }}</td>                                
                            </tr>

                        </tbody>
                        {% endfor %}
                    </table>
                </div>

                <a href="{% url 'downloadcsv' %}" class="btn btn-block btn-light">Export as CSV</a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12 col-xl-12 mb-4 mb-lg-0">
        <div class="card">
            <h5 class="card-header">Latest Volunteer registration</h5>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Name</th>
                                <th scope="col">Email ID</th>
                                <th scope="col">Phone No</th>
                                <th scope="col">Interest</th>
                                <th scope="col">Volunteer Type</th>
                                <th scope="col">Introduction</th>
                                <th scope="col">Areas of expertise</th>      
                            </tr>
                        </thead>
                        {% for item in r2 %}
                        <tbody>
                            <tr>
                                <td>{{ item.date|date:"d-M-Y" }}</td>
                                <th scope="row">{{ item.name }}</th>
                                <td>{{ item.email }}</td>
                                <td>{{ item.phone }}</td>
                                <td>{{ item.interest }}</td>
                                <td>{{ item.vl_type }}</td>
                                <td>{{ item.vl_about }}</td>
                                <td>{{ item.vl_expert }}</td>                             
                            </tr>

                        </tbody>
                        {% endfor %}
                    </table>
                </div>

                <a href="{% url 'downloadvoltcsv' %}" class="btn btn-block btn-light">Export as CSV</a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12 col-xl-12 mb-4 mb-lg-0">
        <div class="card">
            <h5 class="card-header">Latest Partner registration</h5>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Name</th>
                                <th scope="col">Email ID</th>
                                <th scope="col">Phone No</th>
                                <th scope="col">Interest</th>
                                <th scope="col">Address</th>
                                <th scope="col">Message</th>

                            </tr>
                        </thead>
                        {% for item in r3 %}
                        <tbody>
                            <tr>
                                <td>{{ item.date|date:"d-M-Y" }}</td>
                                <th scope="row">{{ item.name }}</th>
                                <td>{{ item.email }}</td>
                                <td>{{ item.phone }}</td>
                                <td>{{ item.interest }}</td>
                                <td>{{ item.ptr_addr }}</td>
                                <td>{{ item.ptr_msg }}</td>
                            </tr>

                        </tbody>
                        {% endfor %}
                    </table>
                </div>

                <a href="{% url 'downloadpartcsv' %}" class="btn btn-block btn-light">Export as CSV</a>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
    })()



    function populate(s1, s2) {
        var s1 = document.getElementById(s1);
        var s2 = document.getElementById(s2);

        console.log(s1, s2);

        s2.innerHTML = "";

        if (s1.value == "dreamsProgram") {
            var optionArray = ['participant|Participant', 'volunteer|Volunteer', 'partner|Partner'];
        }
        else if (s1.value == "dreamsBand") {
            var optionArray = ['volunteer|Volunteer', 'partner|Partner'];
        }
        else if (s1.value == "dreamProClub") {
            var optionArray = ['volunteer|Volunteer', 'partner|Partner'];
        }
        else {
            var optionArray = ['none|None'];
        }

        for (var option in optionArray) {
            var pair = optionArray[option].split("|");
            var newoption = document.createElement("option");

            newoption.value = pair[0];
            newoption.innerHTML = pair[1];
            s2.options.add(newoption);
        }

    }
</script>

{% endblock content %}